<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>只读模式</title>
    <meta name="viewport" content="width=device-width">
    <meta name="descriptions" content="kindeditor只读模式"/>
    <link type="text/css" rel="stylesheet" href="../style/avalon.doc.css"/>
    <script src="../highlight/shCore.js"></script>
    <script type="text/javascript" src="../avalon.js"></script>
</head>
<body ms-controller="demo">
    <div class="wrapper">
        <h1>只读模式</h1>
        <textarea name="content" ms-widget="kindeditor,$,$opts" ms-duplex="txt"></textarea>
        <p>
            <input type="button" ms-click="readOnly" value="设置成只读状态" />
            <input type="button" ms-click="cancel" value="取消只读状态" />
        </p>
        <pre class="brush:html;gutter:false;" ms-skip>
            &lt;!DOCTYPE html&gt;
            &lt;html&gt;
            &lt;head lang="en"&gt;
                &lt;meta charset="UTF-8"&gt;
                &lt;title&gt;只读模式&lt;/title&gt;
                &lt;meta name="viewport" content="width=device-width"&gt;
                &lt;meta name="descriptions" content="kindeditor只读模式"/&gt;
                &lt;link type="text/css" rel="stylesheet" href="../style/avalon.doc.css"/&gt;
                &lt;script src="../highlight/shCore.js"&gt;&lt;/script&gt;
                &lt;script type="text/javascript" src="../avalon.js"&gt;&lt;/script&gt;
            &lt;/head&gt;
            &lt;body ms-controller="demo"&gt;
                &lt;div class="wrapper"&gt;
                    &lt;h1&gt;只读模式&lt;/h1&gt;
                    &lt;textarea name="content" ms-widget="kindeditor,$,$opts" ms-duplex="txt"&gt;&lt;/textarea&gt;
                    &lt;p&gt;
                        &lt;input type="button" ms-click="readOnly" value="设置成只读状态" /&gt;
                        &lt;input type="button" ms-click="cancel" value="取消只读状态" /&gt;
                    &lt;/p&gt;
                &lt;/div&gt;
            &lt;script&gt;
                require(["./kindeditor/avalon.kindeditor", "domReady!"], function() &#123;
                    var demoVM = avalon.define(&#123;
                        $id: "demo",
                        $opts: &#123;
                            $id: "editorInstance",    //可以设置组件的$id，方便获取
                            $options: &#123;
                                readonlyMode : true
                            &#125;
                        &#125;,
                        readOnly: function() &#123;
                            //通过组件实例中的$instance属性获取editor的实例，调用readonly方法设置editor的只读状态
                            avalon.vmodels.editorInstance.$instance.readonly();
                        &#125;,
                        cancel: function() &#123;
                            avalon.vmodels.editorInstance.$instance.readonly(false);
                        &#125;
                    &#125;)
                    avalon.scan()
                &#125;)
            &lt;/script&gt;
            &lt;/body&gt;
            &lt;/html&gt;
        </pre>
    </div>
<script>
    require(["./kindeditor/avalon.kindeditor", "domReady!"], function() {
        var demoVM = avalon.define({
            $id: "demo",
            $opts: {
                $id: "editorInstance",    //可以设置组件的$id，方便获取
                $options: {
                    readonlyMode : true
                }
            },
            readOnly: function() {
                //通过组件实例中的$instance属性获取editor的实例，调用readonly方法设置editor的只读状态
                avalon.vmodels.editorInstance.$instance.readonly();
            },
            cancel: function() {
                avalon.vmodels.editorInstance.$instance.readonly(false);
            }
        })
        avalon.scan()
    })
</script>
</body>
</html>